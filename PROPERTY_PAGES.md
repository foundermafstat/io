# –°—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏

## –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, –≤–∫–ª—é—á–∞—é—â–∞—è:

- **–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤** (`/properties`) —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–æ–∏—Å–∫–æ–º
- **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏** (`/property/[id]`) –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
- **API endpoints** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏** —Å —Ä–µ–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ properties/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                    # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ property/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx                # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îî‚îÄ‚îÄ properties/
‚îÇ           ‚îú‚îÄ‚îÄ route.ts                # GET/POST /api/properties
‚îÇ           ‚îú‚îÄ‚îÄ cities/
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ route.ts            # GET /api/properties/cities
‚îÇ           ‚îî‚îÄ‚îÄ [id]/
‚îÇ               ‚îî‚îÄ‚îÄ route.ts            # GET/PUT/DELETE /api/properties/[id]
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ property-filters.tsx            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ property-grid.tsx               # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–µ—Ç–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤
‚îî‚îÄ‚îÄ hooks/
    ‚îî‚îÄ‚îÄ use-property-filters.ts         # –•—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (`/properties`)

**–§–∏–ª—å—Ç—Ä—ã:**
- üîç **–ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞** - –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é
- üè† **–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏** - –∞—Ä–µ–Ω–¥–∞, –ø—Ä–æ–¥–∞–∂–∞, –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞
- üèôÔ∏è **–ì–æ—Ä–æ–¥** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- üí∞ **–î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω** - —Å–ª–∞–π–¥–µ—Ä —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- URL —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è - —Ñ–∏–ª—å—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ URL
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å –∫–Ω–æ–ø–∫–æ–π "–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ"
- –°—á–µ—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### 2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (`/property/[id]`)

**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
- üì∏ –ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- üìç –ê–¥—Ä–µ—Å –∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ
- üè† –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (—Å–ø–∞–ª—å–Ω–∏, –≤–∞–Ω–Ω—ã–µ, –ø–ª–æ—â–∞–¥—å)
- üí∞ –¶–µ–Ω—ã (–∞—Ä–µ–Ω–¥–∞/–ø—Ä–æ–¥–∞–∂–∞)
- ‚≠ê –°—Ç–∞—Ç—É—Å—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–µ)

**–î–µ–π—Å—Ç–≤–∏—è:**
- üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º
- ‚ù§Ô∏è –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
- üìä –°—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

### 3. API Endpoints

#### `GET /api/properties`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `query` - –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
- `operationType` - —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ (RENT/SALE/BOTH)
- `city` - –≥–æ—Ä–æ–¥
- `minPrice`/`maxPrice` - –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω
- `page`/`limit` - –ø–∞–≥–∏–Ω–∞—Ü–∏—è

#### `GET /api/properties/cities`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### `GET /api/properties/[id]`
–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –ø–æ ID

#### `PUT /api/properties/[id]`
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞

#### `DELETE /api/properties/[id]`
–£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### PropertyFilters

```tsx
<PropertyFilters
  onFiltersChange={(filters) => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
  }}
  loading={false}
/>
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å URL
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Ü–µ–Ω

### PropertyGrid

```tsx
<PropertyGrid
  properties={properties}
  loading={false}
  onPropertyClick={(property) => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –æ–±—ä–µ–∫—Ç—É
  }}
/>
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –æ–±—ä–µ–∫—Ç–æ–≤
- Skeleton loading
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω

### usePropertyFilters

```tsx
const {
  filters,
  updateFilters,
  resetFilters,
  getActiveFiltersCount
} = usePropertyFilters();
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å URL
- –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ü–æ–¥—Å—á–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ù–∞–≤–∏–≥–∞—Ü–∏—è

```tsx
import Link from 'next/link';

// –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ø–∏—Å–∫—É –æ–±—ä–µ–∫—Ç–æ–≤
<Link href="/properties">–û–±—ä–µ–∫—Ç—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</Link>

// –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É
<Link href={`/property/${propertyId}`}>–ü–æ–¥—Ä–æ–±–Ω–µ–µ</Link>
```

### 2. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

```tsx
import { useRouter } from 'next/navigation';

const router = useRouter();

// –ü–µ—Ä–µ—Ö–æ–¥ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
router.push('/properties?operationType=RENT&city=–ú–æ—Å–∫–≤–∞');

// –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–±—ä–µ–∫—Ç—É
router.push(`/property/${propertyId}`);
```

### 3. –†–∞–±–æ—Ç–∞ —Å API

```tsx
// –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
const response = await fetch('/api/properties?operationType=RENT&limit=10');
const data = await response.json();

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
const property = await fetch(`/api/properties/${propertyId}`);
const propertyData = await property.json();
```

## –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Tailwind CSS –∏ shadcn/ui:

- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞** - `grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4`
- **–ö–∞—Ä—Ç–æ—á–∫–∏** - `Card` –∏ `CardContent` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–ö–Ω–æ–ø–∫–∏** - `Button` —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
- **–§–æ—Ä–º—ã** - `Input`, `Select`, `Slider` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** - `Badge`, `Skeleton` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ API:

```bash
node scripts/test-property-api.js
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
- –†–∞–±–æ—Ç—É —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ó–∞–≥—Ä—É–∑–∫—É –≥–æ—Ä–æ–¥–æ–≤
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –æ–±—ä–µ–∫—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Next.js Image
- **Debouncing** - –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤

1. –û–±–Ω–æ–≤–∏—Ç—å `PropertySearchFilters` –≤ `types/property.ts`
2. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ `PropertyFilters` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
3. –û–±–Ω–æ–≤–∏—Ç—å API endpoint –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–∞

1. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—É Prisma
2. –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã TypeScript
3. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
4. –û–±–Ω–æ–≤–∏—Ç—å API –º–µ—Ç–æ–¥—ã

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** –Ω–∞ —É—Ä–æ–≤–Ω–µ API
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤** —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è** –æ–±—ä–µ–∫—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
